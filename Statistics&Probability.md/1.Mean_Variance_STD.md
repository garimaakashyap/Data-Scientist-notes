# Mean, Variance, and Standard Deviation - Complete Guide

## Introduction
These are the three most fundamental statistics that describe the **center** and **spread** of data. Understanding them is crucial for data analysis.

## 1. Mean (Average)

### What is Mean?
The **mean** is the average of all values. It tells us the **center** or **typical value** of our data.

### Formula

**Population Mean (μ - mu):**
```
μ = (x₁ + x₂ + x₃ + ... + xₙ) / N
   = Σxᵢ / N
```

**Sample Mean (x̄ - x-bar):**
```
x̄ = (x₁ + x₂ + x₃ + ... + xₙ) / n
   = Σxᵢ / n
```

Where:
- **N** = total number of values in population
- **n** = total number of values in sample
- **Σ** = sum of all values

### Simple Example

**Data:** [10, 20, 30, 40, 50]

**Calculation:**
```
Mean = (10 + 20 + 30 + 40 + 50) / 5
     = 150 / 5
     = 30
```

**Interpretation:** The average value is 30.

### Real-World Example: Student Grades

**Problem:** Calculate the mean test score for 5 students.

**Scores:** 85, 90, 78, 92, 88

**Solution:**
```
Mean = (85 + 90 + 78 + 92 + 88) / 5
     = 433 / 5
     = 86.6
```

**Answer:** The average test score is 86.6.

### Python Code

```python
import numpy as np

# Data
scores = [85, 90, 78, 92, 88]

# Calculate mean
mean = np.mean(scores)
print(f"Mean: {mean}")  # 86.6

# Manual calculation
mean_manual = sum(scores) / len(scores)
print(f"Mean (manual): {mean_manual}")  # 86.6
```

### Properties of Mean

1. **Sensitive to outliers**: One extreme value can significantly change the mean
   - Example: [1, 2, 3, 4, 100] → Mean = 22 (skewed by 100)

2. **Sum of deviations is zero**: Σ(xᵢ - x̄) = 0

3. **Mean of means**: If you have groups, the overall mean is the weighted average

### When to Use Mean

✅ **Use mean when:**
- Data is normally distributed
- No extreme outliers
- You want the "typical" value

❌ **Don't use mean when:**
- Data has extreme outliers (use median instead)
- Data is skewed (use median instead)

### Weighted Mean

Sometimes values have different importance (weights).

**Formula:**
```
Weighted Mean = Σ(wᵢ × xᵢ) / Σwᵢ
```

**Example:** Course grades with different weights

```
Assignment 1: 85 (weight: 20%)
Assignment 2: 90 (weight: 30%)
Final Exam: 78 (weight: 50%)

Weighted Mean = (85×0.20 + 90×0.30 + 78×0.50) / (0.20 + 0.30 + 0.50)
              = (17 + 27 + 39) / 1.0
              = 83
```

**Python Code:**
```python
scores = [85, 90, 78]
weights = [0.20, 0.30, 0.50]

weighted_mean = np.average(scores, weights=weights)
print(f"Weighted Mean: {weighted_mean}")  # 83.0
```

## 2. Variance

### What is Variance?
**Variance** measures how **spread out** the data is. It tells us how much the values differ from the mean.

**High variance** = data is spread out
**Low variance** = data is clustered together

### Formula

**Population Variance (σ² - sigma squared):**
```
σ² = Σ(xᵢ - μ)² / N
```

**Sample Variance (s²):**
```
s² = Σ(xᵢ - x̄)² / (n - 1)
```

**Note:** Sample variance uses (n-1) instead of n. This is called **Bessel's correction** and makes the estimate unbiased.

### Step-by-Step Calculation

**Data:** [10, 20, 30, 40, 50]
**Mean:** 30

**Step 1:** Calculate deviations from mean
```
10 - 30 = -20
20 - 30 = -10
30 - 30 = 0
40 - 30 = 10
50 - 30 = 20
```

**Step 2:** Square each deviation
```
(-20)² = 400
(-10)² = 100
(0)² = 0
(10)² = 100
(20)² = 400
```

**Step 3:** Sum the squared deviations
```
400 + 100 + 0 + 100 + 400 = 1000
```

**Step 4:** Divide by (n-1) for sample variance
```
s² = 1000 / (5 - 1) = 1000 / 4 = 250
```

**Answer:** Variance = 250

### Visual Understanding

**Low Variance:**
```
Data: [28, 29, 30, 31, 32]
Mean: 30
Values are close together → Low variance
```

**High Variance:**
```
Data: [10, 20, 30, 40, 50]
Mean: 30
Values are spread out → High variance
```

### Real-World Example: Test Scores

**Problem:** Two classes took the same test. Which class has more consistent scores?

**Class A:** [85, 87, 86, 88, 84]
**Class B:** [70, 90, 85, 95, 60]

**Solution:**

**Class A:**
```
Mean = (85 + 87 + 86 + 88 + 84) / 5 = 86

Deviations: [-1, 1, 0, 2, -2]
Squared: [1, 1, 0, 4, 4]
Variance = (1 + 1 + 0 + 4 + 4) / 4 = 2.5
```

**Class B:**
```
Mean = (70 + 90 + 85 + 95 + 60) / 5 = 80

Deviations: [-10, 10, 5, 15, -20]
Squared: [100, 100, 25, 225, 400]
Variance = (100 + 100 + 25 + 225 + 400) / 4 = 212.5
```

**Answer:** Class B has much higher variance (212.5 vs 2.5), meaning Class B's scores are more spread out. Class A has more consistent scores.

### Python Code

```python
import numpy as np

# Data
class_a = [85, 87, 86, 88, 84]
class_b = [70, 90, 85, 95, 60]

# Calculate variance
var_a = np.var(class_a, ddof=1)  # ddof=1 for sample variance
var_b = np.var(class_b, ddof=1)

print(f"Class A Variance: {var_a}")  # 2.5
print(f"Class B Variance: {var_b}")  # 212.5

# Manual calculation
mean_a = np.mean(class_a)
deviations_a = [(x - mean_a)**2 for x in class_a]
var_a_manual = sum(deviations_a) / (len(class_a) - 1)
print(f"Class A Variance (manual): {var_a_manual}")  # 2.5
```

### Properties of Variance

1. **Always non-negative**: Variance ≥ 0 (can't be negative)

2. **Zero variance**: If all values are the same, variance = 0
   - Example: [5, 5, 5, 5] → Variance = 0

3. **Units are squared**: If data is in meters, variance is in meters²

4. **Sensitive to outliers**: Extreme values increase variance significantly

### Why (n-1) for Sample Variance?

Using (n-1) instead of n corrects for bias. This is called **Bessel's correction**.

**Intuition:** When we calculate sample mean, we "use up" one degree of freedom. Using (n-1) gives us an unbiased estimate of the population variance.

**Example:**
- Population: [1, 2, 3, 4, 5] → True variance = 2
- Sample: [1, 2, 3] → With (n-1): variance ≈ 2 (unbiased)
- Sample: [1, 2, 3] → With n: variance = 0.67 (biased, too small)

## 3. Standard Deviation (STD)

### What is Standard Deviation?
**Standard deviation** is the square root of variance. It's in the **same units** as the original data, making it easier to interpret.

### Formula

**Population Standard Deviation (σ):**
```
σ = √σ² = √[Σ(xᵢ - μ)² / N]
```

**Sample Standard Deviation (s):**
```
s = √s² = √[Σ(xᵢ - x̄)² / (n - 1)]
```

### Simple Calculation

**From previous example:**
- Variance = 250
- Standard Deviation = √250 = 15.81

**Interpretation:** On average, values differ from the mean by about 15.81 units.

### Real-World Example: Heights

**Problem:** Compare height variability between two groups.

**Group A (adults):** [170, 172, 175, 168, 171] cm
**Group B (children):** [120, 125, 130, 115, 120] cm

**Solution:**

**Group A:**
```
Mean = 171.2 cm
Variance = 6.7 cm²
Standard Deviation = √6.7 = 2.59 cm
```

**Group B:**
```
Mean = 122 cm
Variance = 30 cm²
Standard Deviation = √30 = 5.48 cm
```

**Answer:** Group B has higher standard deviation (5.48 vs 2.59), meaning children's heights vary more.

### Python Code

```python
import numpy as np

# Data
heights_a = [170, 172, 175, 168, 171]
heights_b = [120, 125, 130, 115, 120]

# Calculate standard deviation
std_a = np.std(heights_a, ddof=1)
std_b = np.std(heights_b, ddof=1)

print(f"Group A STD: {std_a:.2f} cm")  # 2.59 cm
print(f"Group B STD: {std_b:.2f} cm")  # 5.48 cm

# From variance
var_a = np.var(heights_a, ddof=1)
std_a_from_var = np.sqrt(var_a)
print(f"STD from variance: {std_a_from_var:.2f}")  # 2.59
```

### Why Use Standard Deviation Instead of Variance?

1. **Same units**: STD is in original units (cm, kg, $), variance is squared (cm², kg², $²)

2. **Easier to interpret**: "Values differ by 5 cm on average" vs "Variance is 25 cm²"

3. **Normal distribution rule**: 68-95-99.7 rule uses standard deviation

### Empirical Rule (68-95-99.7 Rule)

For **normal distributions**:
- **68%** of data falls within **1 standard deviation** of the mean
- **95%** of data falls within **2 standard deviations** of the mean
- **99.7%** of data falls within **3 standard deviations** of the mean

**Visual:**
```
       68% of data
      ┌─────────┐
      │         │
   ───┼─────────┼───
   μ-σ   μ    μ+σ

        95% of data
    ┌───────────────┐
    │               │
 ───┼───────────────┼───
 μ-2σ      μ      μ+2σ
```

**Example:**
- Mean height = 170 cm
- Standard deviation = 10 cm

**Interpretation:**
- 68% of people: 160-180 cm (170 ± 10)
- 95% of people: 150-190 cm (170 ± 20)
- 99.7% of people: 140-200 cm (170 ± 30)

### Coefficient of Variation (CV)

When comparing variability across different scales, use **Coefficient of Variation**.

**Formula:**
```
CV = (Standard Deviation / Mean) × 100%
```

**Example:**
- Group A: Mean = 100, STD = 10 → CV = 10%
- Group B: Mean = 50, STD = 8 → CV = 16%

**Answer:** Group B has higher relative variability (16% vs 10%).

## 4. Complete Example: All Three Together

**Problem:** Analyze the salary data for a company.

**Salaries (in thousands):** [45, 50, 55, 60, 65, 70, 75]

**Step 1: Calculate Mean**
```
Mean = (45 + 50 + 55 + 60 + 65 + 70 + 75) / 7
     = 420 / 7
     = 60
```

**Step 2: Calculate Variance**
```
Deviations: [-15, -10, -5, 0, 5, 10, 15]
Squared: [225, 100, 25, 0, 25, 100, 225]
Sum = 700
Variance = 700 / (7 - 1) = 700 / 6 = 116.67
```

**Step 3: Calculate Standard Deviation**
```
STD = √116.67 = 10.80
```

**Interpretation:**
- **Mean = 60**: Average salary is $60,000
- **Variance = 116.67**: (not very interpretable)
- **STD = 10.80**: Salaries typically differ from average by about $10,800

**Using Empirical Rule:**
- 68% of employees: $49,200 - $70,800 (60 ± 10.8)
- 95% of employees: $38,400 - $81,600 (60 ± 21.6)

## 5. Python Implementation

```python
import numpy as np
import pandas as pd

# Sample data
data = [45, 50, 55, 60, 65, 70, 75]

# Using NumPy
mean = np.mean(data)
variance = np.var(data, ddof=1)  # Sample variance
std = np.std(data, ddof=1)       # Sample standard deviation

print(f"Mean: {mean:.2f}")
print(f"Variance: {variance:.2f}")
print(f"Standard Deviation: {std:.2f}")

# Using Pandas
df = pd.DataFrame({'salary': data})
print(f"\nPandas Statistics:")
print(df['salary'].describe())

# Manual calculation
n = len(data)
mean_manual = sum(data) / n
deviations_squared = [(x - mean_manual)**2 for x in data]
variance_manual = sum(deviations_squared) / (n - 1)
std_manual = np.sqrt(variance_manual)

print(f"\nManual Calculation:")
print(f"Mean: {mean_manual:.2f}")
print(f"Variance: {variance_manual:.2f}")
print(f"Standard Deviation: {std_manual:.2f}")
```

## 6. Common Mistakes

### Mistake 1: Using n instead of (n-1) for sample variance
```python
# WRONG (population variance)
variance_wrong = np.var(data)  # Uses n

# CORRECT (sample variance)
variance_correct = np.var(data, ddof=1)  # Uses n-1
```

### Mistake 2: Confusing variance and standard deviation units
- Variance: cm², kg², $² (squared units)
- Standard Deviation: cm, kg, $ (original units)

### Mistake 3: Using mean when median is better
- For skewed data or outliers, use median instead of mean

## 7. When to Use Each Statistic

| Statistic | Use When | Example |
|-----------|----------|---------|
| **Mean** | Normal distribution, no outliers | Test scores, heights |
| **Median** | Skewed data, outliers present | Income, house prices |
| **Variance** | Need squared units for calculations | Statistical formulas |
| **Standard Deviation** | Need interpretable spread measure | Most practical applications |
| **CV** | Compare variability across different scales | Different measurement units |

## Key Takeaways

1. **Mean** = Average value (center of data)
2. **Variance** = Average squared deviation (spread, squared units)
3. **Standard Deviation** = Square root of variance (spread, original units)
4. **Sample formulas** use (n-1) for unbiased estimates
5. **Standard deviation** is more interpretable than variance
6. **Empirical rule** applies to normal distributions
7. **Mean is sensitive** to outliers; use median for skewed data
8. **All three together** give complete picture: center + spread

## Practice Problems

### Problem 1: Calculate mean, variance, and STD
**Data:** [12, 15, 18, 20, 22, 25, 28]

**Solution:**
- Mean = 19.29
- Variance = 28.24
- STD = 5.31

### Problem 2: Compare two datasets
**Dataset A:** [10, 12, 14, 16, 18]
**Dataset B:** [5, 10, 15, 20, 25]

Which has higher variability?

**Solution:**
- Dataset A: STD = 3.16
- Dataset B: STD = 7.91
- **Answer:** Dataset B has higher variability

### Problem 3: Real-world application
A teacher wants to know if her class's test scores are consistent. Scores: [78, 80, 82, 79, 81, 83, 77]

Calculate and interpret the standard deviation.

**Solution:**
- Mean = 80
- STD = 2.16
- **Interpretation:** Very consistent! Most scores are within 2-3 points of 80.

